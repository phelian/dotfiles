# Nix darwin / Home manager

This is my nix-darwin/home-manager/nix files that is heavily based on [ryan4yin](https://github.com/ryan4yin/nix-darwin-kickstarter) [jmatsushita](https://gist.github.com/jmatsushita/5c50ef14b4b96cb24ae5268dab613050) and [phlmn](https://github.com/phlmn/nix-darwin-config/tree/main) and others.

I leave all devtools out of this as they will be installed / project basis on direnv level instead.

## Prerequisites


1. Install Nix package manager via [Nix Official](https://nixos.org/download.html#nix-install-macos) or [The Determinate Nix Installer](https://github.com/DeterminateSystems/nix-installer)

2. Install Homebrew, see <https://brew.sh/>

Then you can run `make update` in the root of your nix configuration to deploy your configuration.

## Configuration Structure

Your current nix-darwin configuration's structure should be as follows:

```bash
› tree
.
├── Makefile
├── README.md
├── config
│   ├── home-manager.nix  # Home manager configuration
│   ├── homebrew.nix      # Homebrew configuration
│   └── oh-my-zsh         # Adding own theme to oh-my-zsh
├── flake.lock            # a lock file generated by nix
├── flake.nix             # the entry point of your nix configuration, you need to add your hostname here
└── modules
    ├── apps.nix          # homebrew and non home manager nix apps(both GUI & CLI)
    ├── home-manager
    │   ├── .. specific config / program
    ├── host-users.nix # defines your hostname & all your system users
    ├── nix-core.nix   # nix's core configuration, you can ignore it for now
    └── system.nix     # defines your macOS's system configuration(like dock, trackpad, keyboard, finder, loginwindow, etc.)
```

### TODO
* Home manager downgrade to 23.11
* KubePS1 prompt (/Users/felix/.zshenv:8: command not found: kube_ps1)